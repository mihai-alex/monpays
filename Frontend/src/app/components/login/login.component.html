<div class="login-container">
  <div class="container mt-5">
    <div class="card" style="padding: 20px">
      <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
        <mat-form-field class="mb-3">
          <input
            matInput
            type="text"
            ngModel
            name="userName"
            id="userName"
            placeholder="Enter your username"
          />
        </mat-form-field>

        <mat-form-field class="mb-3">
          <input
            matInput
            type="password"
            ngModel
            name="password"
            id="password"
            placeholder="Enter your password"
          />
        </mat-form-field>

        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="form-control rounded-0"
        >
          Login
        </button>
      </form>
    </div>
  </div>

  <div class="qr-container" *ngIf="authResponse.mfaEnabled">
    <h2>Set Up Two-Factor Authentication</h2>
    <div class="qr-code" *ngIf="isFirstLogin">
      <img [src]="authResponse.secretImageUri" alt="QR Code" />
    </div>
    <div class="form-group">
      <label for="validationCode"
        >Enter 6 digits Validation Code Generated by the app</label
      >
      <input
        type="text"
        id="validationCode"
        name="validationCode"
        required
        [(ngModel)]="validationCode"
      />
    </div>
    <button
      type="button"
      (click)="
        isFirstLogin === true
          ? verifyTfaFirstLogin(loginForm)
          : verifyTfaRegularLogin(loginForm)
      "
      [class.button-disabled]="validationCode.length < 6"
    >
      Verify code
    </button>
  </div>
</div>
